import React, { Component } from 'react'
import {
  StyleSheet,
  View,
  Text,
  AppState,
  Dimensions }                from 'react-native'
import { GameContainer }    from './views/game-play'
import { Provider }         from 'react-redux'
import {
  store,
  gameStateSchema
}                           from  './models/game-state-store'
import {
  setState,
  resetGame
}                           from './controllers/game-actions'

resetGame(store)
const hack = {
  body: {
    body: "",
    legs: "",
    final: "",
    head: "",
    clue: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA7YAAAEsCAYAAAD3mC+UAAAgAElEQVR4Xu3dsbL0yFUA4F4v7G5BADgjc8A7UIVjSHkaInICUl6ECFdBjANegcgJGdgBxXrtxVBjPHj+uyP1aalb6iN9W+XEV2qd/s7plo5m7v0/K/4jQIAAAQIECBAgQIAAAQKJBT5LHLvQCRAgQIAAAQIECBAgQIBA0dgqAgIECBAgQIAAAQIECBBILaCxTZ0+wRMgQIAAAQIECBAgQICAxlYNECBAgAABAgQIECBAgEBqAY1t6vQJngABAgQIECBAgAABAgQ0tmqAAAECBAgQIECAAAECBFILaGxTp0/wBAgQIECAAAECBAgQIKCxVQMECBAgQIAAAQIECBAgkFpAY5s6fYInQIAAAQIECBAgQIAAAY2tGiBAgAABAgQIECBAgACB1AIa29TpEzwBAgQIECBAgAABAgQIaGzVAAECBAgQIECAAAECBAikFtDYpk6f4AkQIECAAAECBAgQIEBAY6sGCBAgQIAAAQIECBAgQCC1gMY2dfoET4AAAQIECBAgQIAAAQIaWzVAgAABAgQIECBAgAABAqkFNLap0yd4AgQIECBAgAABAgQIENDYqgECBAgQIECAAAECBAgQSC2gsU2dPsETIECAAAECBAgQIECAgMZWDRAgQIAAAQIECBAgQIBAagGNber0CZ4AAQIECBAgQIAAAQIENLZqgAABAgQIECBAgAABAgRSC2hsU6dP8AQIECBAgAABAgQIECCgsVUDBAgQIECAAAECBAgQIJBaQGObOn2CJ0CAAAECBAgQIECAAAGNrRogQIAAAQIECBAgQIAAgdQCGtvU6RM8AQIECBAgQIAAAQIECGhs1QABAgQIECBAgAABAgQIpBbQ2KZOn+AJECBAgAABAgQIECBAQGOrBggQIECAAAECBAgQIEAgtYDGNnX6BE+AAAECBAgQIECAAAECGls1QIAAAQIECBAgQIAAAQKpBTS2qdMneAIECBAgQIAAAQIECBDQ2KoBAgQIECBAgAABAgQIEEgtoLFNnT7BEyBAgAABAgQIECBAgIDGVg0QIECAAAECBAgQIECAQGoBjW3q9AmeAAECBAgQIECAAAECBDS2aoAAAQIECBAgQIAAAQIEUgtobFOnT/AECBAgQIAAAQIECBAgoLFVAwQIECBAgAABAgQIECCQWkBjmzp9gidAgAABAgQIECBAgAABja0aIECAAAECBAgQIECAAIHUAhrb1OkTPAECBAgQIECAAAECBAhobNUAAQIECBAgQIAAAQIECKQW0NimTp/gCRAgQIAAAQIECBAgQEBjqwYIECBAgAABAgQIECBAILWAxjZ1+gRPgAABAgQIECBAgAABAhpbNUCAAAECBAgQIECAAAECqQU0tqnTJ3gCBAgQIECAAAECBAgQ0NiqAQIECBAgQIAAAQIECBBILaCxTZ0+wRMgQIAAAQIECBAgQICAxlYNECBAgAABAgQIECBAgEBqAY1t6vQJngABAgQIECBAgAABAgQ0tmqAAAECBAgQIECAAAECBFILaGxTp0/wBAgQIECAAAECBAgQIKCxVQMECBAgQIAAAQIECBAgkFpAY5s6fYInQIAAAQIECBAgQIAAAY2tGiBAgAABAgQIECBAgACB1AIa29TpEzwBAgQIECBAgAABAgQIaGzVAAECBAgQIECAAAECBAikFtDYpk6f4AkQIECAAAECBAgQIEBAY6sGCBAgQIAAAQIECBAgQCC1gMY2dfoET4AAAQIECBAgQIAAAQIaWzVAgAABAgQIECBAgAABAqkFNLap0yd4AgQIECBAgAABAgQIENDYqgECBAgQIECAAAECBAgQSC2gsU2dPsETIECAAAECBAgQIECAgMZWDRAgQIAAAQIECBAgQIBAagGNber0CZ4AAQIECBAgQIAAAQIENLZqgAABAgQIECBAgAABAgRSC2hsU6dP8AQIECBAgAABAgQIECCgsVUDBAgQIECAAAECBAgQIJBaQGObOn2CJ0CAAAECBAgQIECAAAGNrRogQIAAAQIECBAgQIAAgdQCGtvU6RM8AQIECBAgQIAAAQIECGhs1QABAgQIECBAgAABAgQIpBbQ2KZOn+AJECBAgAABAgQIECBAQGOrBggQIECAAAECBAgQIEAgtYDGNnX6BE+AAAECBAgQIECAAAECGls1QIAAAQIECBAgQIAAAQKpBTS2qdMneAIECBAgQIAAAQIECBDQ2KoBAgQIECBAgAABAgQIEEgtoLFNnT7BEyBAgAABAgQIECBAgIDGVg0QIECAAAECBAgQIECAQGoBjW3q9AmeAAECBAgQIECAAAECBDS2aoAAAQIECBAgQIAAAQIEUgtobFOnT/AECBAgQIAAAQIECBAgoLFVAwQIECBAgAABAgQIECCQWkBjmzp9gidAgAABAgQIECBAgAABja0aIECAAAECBAgQIECAAIHUAhrb1OkTPAECBAgQIECAAAECBAhobNUAAQIECBAgQIAAAQIECKQW0NimTp/gCRAgQIAAAQIECBAgQEBjqwYIECBAgAABAgQIECBAILWAxjZ1+gRPgAABAgQIECBAgAABAhpbNUCAAAECBAgQIECAAAECqQU0tqnTJ3gCBAgQIECAAAECBAgQ0NiqAQIECBAgQIAAAQIECBBILaCxTZ0+wRMgQIAAAQIECBAgQICAxlYNECBAgAABAgQIECBAgEBqAY1t6vQJngABAgQIECBAgAABAgQ0tmqAAAECBAgQIECAAAECBFILaGxTp0/wBAgQIECAAAECBAgQIKCxVQMECBAgQIAAAQIECBAgkFpAY5s6fYInQIAAAQIECBAgQIAAAY2tGiBAgAABAgQIECBAgACB1AIa29TpEzwBAgQIECBAgAABAgQIaGzVAAECBAgQIECAAAECBAikFtDYpk6f4AkQIECAAAECBAgQIEBAY6sGCBAgQIAAAQIECBAgQCC1gMY2dfoET4AAAQIECBAgQIAAAQIaWzVAgAABAgQIECBAgAABAqkFNLap0yd4AgQIECBAgAABAgQIENDYqgECBAgQIECAAAECBAgQSC2gsU2dPsETIECAAAECBAgQIECAgMZWDRAgQIAAAQIECBAgQIBAagGNber0CZ4AAQIECBAgQIAAAQIENLZqgAABAgQIECBAgAABAgRSC2hsU6dP8AQIECBAgAABAgQIECCgsVUDBAgQIECAAAECBAgQIJBaQGObOn2CJ0CAAAECBAgQIECAAAGNrRogQIAAAQIECBAgQIAAgdQCGtvU6RM8AQIECBAgQIAAAQIECGhs1QABAgQIECBAgAABAgQIpBbQ2KZOn+AJECBAgAABAgQIECBAQGOrBggQIECAAAECBAgQIEAgtYDGNnX6BE+AAAECBAgQIECAAAECGls1QIAAAQIECBAgQIAAAQKpBTS2qdMneAIECBAgQIAAAQIECBDQ2KoBAgQIECBAgAABAgQIEEgtoLFNnT7BEyBAgAABAgQIECBAgIDGVg0QIECAAAECBAgQIECAQGoBjW3q9AmeAAECBAgQIECAAAECBDS2aoAAAQIECBAgQIAAAQIEUgtobFOnT/AECBAgQIAAAQIECBAgoLFVAwQIECBAgAABAgQIECCQWkBjmzp9gidAgAABAgQIECBAgAABja0aIECAAAECBAgQIECAAIHUAhrb1OkTPAECBAgQIECAAAECBAhobNUAAQIECBAgQIAAAQIECKQW0NimTp/gCRAgQIAAAQIECBAgQEBjqwYIECBAgAABAgQIECBAILWAxjZ1+gRPgAABAgQIECBAgAABAhpbNUCAAAECBAgQIECAAAECqQU0tqnTJ3gCBAgQIECAAAECBAgQ0NiqAQIECBAgQIAAAQIECBBILaCxTZ0+wRMgQIAAAQIECBAgQICAxlYNECBAgAABAgQIECBAgEBqAY1t6vQJngABAgQIECBAgAABAgQ0tmqAAAECBAgQIECAAAECBFILaGxTp0/wBAgQIECAAAECBAgQIKCxVQMECBAgQIAAAQIECBAgkFpAY5s6fYInQIAAAQIECBAgQIAAAY2tGiBAgAABAgQIECBAgACB1AIa29TpEzwBAgQIECBAgAABAgQIaGzVAAECBAgQIECAAAECBAikFtDYpk6f4AkQIECAAAECBAgQIEBAY6sGCBAgQIAAAQIECBAgQCC1gMY2dfoET4AAAQIECBAgQIAAAQIaWzVAgAABAgQIECBAgAABAqkFNLap0yd4AgQIECBAgAABAgQIENDYqgECBAgQIECAAAECBAgQSC2gsU2dPsETIECAAAECBAgQIECAgMZWDRAgQIAAAQIECBAgQIBAagGNber0CZ4AAQIECBAgQIAAAQIENLZqgAABAgQIECBAgAABAgRSC2hsU6dP8AQIECBAgAABAgQIECCgsVUDBAgQIECAAAECBAgQIJBaQGObOn2CJ0CAAAECBAgQIECAAAGNrRogQIAAAQIECBAgQIAAgdQCGtvU6RM8AQIECBAgQIAAAQIECGhs1QABAgQIECBAgAABAgQIpBbQ2KZOn+AJECBAgAABAgQIECBAQGOrBggQIECAAAECBAgQIEAgtYDGNnX6BE+AAAECBAgQIECAAAECGls1QIAAAQIECBAgQIAAAQKpBTS2qdMneAIECBAgQIAAAQIECBDQ2KoBAgQIECBAgAABAgQIEEgtoLFNnT7BEyBAgAABAgQIECBAgIDGVg0QIECAAAECBAgQIECAQGoBjW3q9AmeAAECBAgQIECAAAECBDS2aoAAAQIECBAgQIAAAQIEUgtobFOnT/AECBAgQIAAAQIECBAgoLFVAwQIECBAgAABAgQIECCQWkBjmzp9gidAgAABAgQIECBAgAABja0aIECAAAECBAgQIECAAIHUAhrb1OkTPAECBAgQIECAAAECBAhobNUAAQIECBAgQIAAAQIECKQW0NimTp/gCRAgQIAAAQIECBAgQEBjqwYIECBAgAABAgQIECBAILWAxjZ1+gRPgAABAgQIECBAgAABAhpbNUCAAAECBAgQIECAAAECqQU0tqnTJ3gCBAgQIECAAAECBAgQ0NiqAQIECBAgQIAAAQIECBBILaCxTZ0+wRMgQIAAAQIECBAgQICAxlYNECBAgAABAgQIECBAgEBqAY1t6vQJngABAgQIECBAgAABAgQ0tmqAAAECBAgQIECAAAECBFILaGxTp0/wBAgQIECAAAECBAgQIKCxVQMECBAgQIAAAQIECBAgkFpAY5s6fYInQIAAAQIECBAgQIAAAY2tGiBAgAABAgQIECBAgACB1AIa29TpEzwBAgQIECBAgAABAgQIaGzVAAECBAgQIECAAAECBAikFtDYpk6f4AkQIECAAAECBAgQIEBAY6sGCBAgQIAAAQIECBAgQCC1gMY2dfoET4AAAQIECBAgQIAAAQIaWzVAgAABAgQIECBAgAABAqkFNLap0yd4AgQIECBAgAABAgQIENDYqgECBAgQIECAAAECBAgQSC2gsU2dPsETIECAAAECBAgQIECAgMZWDRAgQIAAAQIECBAgQIBAagGNber0CZ4AAQIECBAgQIAAAQIENLZqgAABAgQIECBAgAABAgRSC2hsU6dP8AQIECBAgAABAgQIECCgsVUDBAgQIECAAAECBAgQIJBaQGObOn2CJ0CAAAECBAgQIECAAAGNrRogQIAAAQIECBAgQIAAgdQCGtvU6RM8AQIECBAgQIAAAQIECGhs1QABAgQIECBAgAABAgQIpBbQ2KZOn+AJECBAgAABAgQIECBAQGOrBggQIECAAAECBAgQIEAgtYDGNnX6BE+AAAECBAgQIECAAAECGls1QIAAAQIECBAgQIAAAQKpBTS2qdMneAIECBAgQIAAAQIECBDQ2KoBAgQIECBAgAABAgQIEEgtoLFNnT7BEyBAgAABAgQIECBAgIDGVg0Q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"

  },
  level: 2,
  num: 3,
  part: "Trump"
}
// store.dispatch(setState(hack))


// what's going on here? https://medium.com/@ekryski/how-to-actually-use-socket-io-in-react-native-39082d8d6172#.tksgjt65y
window.navigator.userAgent = 'ReactNative'
const io = require('socket.io-client/socket.io')

export default class App extends Component {
  constructor () {
    super()
    const options = {
      transports: ['websocket'],
      forceNew: true
    }

    this.socket = io('http://localhost:3000', options)

    this.socket.on('connect', () => {
      console.log('connected to socket server')
      const action = {
      type: 'SET_DIMENSIONS',
      dimensions: this.dimensions,
      playerId: this.socket.id
    }
    this.socket.emit('action', action)
    })

    this.socket.on('disconnect', () => {
      resetGame(store)
    })

    this.socket.on('state', state => store.dispatch(setState(state)))

    this.dimensions = Dimensions.get('window');
  }

  componentDidMount () {
    AppState.addEventListener('change', () => {
      const state = AppState.currentState
      if (state === 'inactive' || state === 'background' ) {
        this.socket.disconnect()
      } else {
        this.socket.connect()
      }
    })
  }

  sendDrawing (data) {
    const state = store.getState()

    const action = {
      type: 'ADD_DRAWING',
      body: state.num,
      part: state.part,
      drawing: data
    }
    this.socket.emit('action', action)
  }

  render () {
    return (
      <Provider store={ store }>
        <View style={ styles.container }>
          <Text style={ styles.heading }>
            HiddenDoodle
          </Text>
          <GameContainer sendDrawing= { this.sendDrawing.bind(this) }/>
        </View>
      </Provider>
    )
  }
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center',
    backgroundColor: '#F5FCFF',
  },
  heading: {
    fontSize: 30,
    textAlign: 'center',
    color: 'black',
    marginTop: 10
  }
});

